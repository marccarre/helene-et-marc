// Remove potential errors from previous faulty submission:
$('#car-errors')
  .empty()
  .removeClass('visible')
  .addClass('hidden');

// Submission for shared car succeeded:
$('#no-shared-car').removeClass('visible').addClass('hidden');
$('#shared-cars').removeClass('hidden').addClass('visible');

// Add new shared car to the DOM:
$("<%= escape_javascript(render 'wedding/cars/shared_car', car: @car) %>")
  .find('.td-collapsible').removeClass('hidden')
  .find('.collapsible').addClass('collapse')
  .appendTo('#table-shared-cars > tbody');

$('#table-shared-cars > tbody > tr#<%= dom_id(@car) %>').effect('highlight');